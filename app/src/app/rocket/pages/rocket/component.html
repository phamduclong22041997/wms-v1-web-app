<app-page-session>
	<app-page-session-header title="{{ 'Rocket.Promition' | translate | uppercase}}"></app-page-session-header>
	<mat-card-content>
		<ng-container *ngTemplateOutlet="headerContent"></ng-container>
	</mat-card-content>
</app-page-session>

<app-page-session>
	<mat-card-content>
		<ng-container *ngTemplateOutlet="mainContent"></ng-container>
	</mat-card-content>
</app-page-session>

<ng-template #mainContent>
	<div class="tab-container" style="padding-top: 12px;">

		<div class="app-btn-row-right" style="padding-bottom: 5px;">
			<div style="float: left;">
				<span style="margin-right: 25px;">Tổng cửa hàng: {{totalSTO}}</span>
				<span style="margin-right: 25px;">Tổng số sản phẩm: {{totalSKU}}</span>
				<span style="margin-right: 25px;">Tổng số Units: {{totalUnits}}</span>
			</div>

			<button class="button-upload-sto" color="accent" (click)="showAnalyzeSTO()" mat-stroked-button
				[disabled]="!allowAnalyzeSto">{{'Rocket.ProcessSTOSets' | translate | uppercase}}</button>

			<!-- <button class="button-upload-sto" color="accent" (click)="importSTO()"
				mat-stroked-button>{{'Rocket.ImportSTO' | translate | uppercase}}</button> -->
		</div>
		<app-edit-table class="app-table" #appTable [configs]="tableConfig"></app-edit-table>
	</div>
</ng-template>

<ng-template #headerContent>
	<form #form layout="column">
		<mat-grid-list cols="4" rowHeight="60px" gutterSize="15px" flex-gt-sm="100">
			<mat-grid-tile>
				<label class="app-label-top p-14">{{'Rocket.Warehouse' | translate}}:</label>
				<app-combo #whCombo class="app-combo" tabindex="2" title="{{'Rocket.WarehousePlaceholder' | translate}}"
					[configs]="whConfig"></app-combo>
			</mat-grid-tile>
			<mat-grid-tile>
				<label class="app-label-top p-14">{{'Rocket.StoreBranch' | translate}}:</label>
				<app-combo #typeCombo class="app-combo" tabindex="3"
					title="{{'Rocket.StoreBranchPlaceholder' | translate}}" [configs]="typeConfig"></app-combo>
			</mat-grid-tile>
			<mat-grid-tile>
				<label class="app-label-top p-14">{{'Rocket.Content' | translate}}:</label>
				<mat-form-field appearance="outline" class="app-input">
					<input #code name="code" tabindex="4" [(ngModel)]="content"
						placeholder="{{'Rocket.ContentHolder' | translate}}" matInput autocomplete="off">
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile>
				<div class="app-btn-row-left" style="width: 100%;margin-top: 5px;">
					<button class="button-upload-sto" color="accent" (click)="search()" mat-raised-button>{{'btn_search'
						| translate | uppercase}}</button>
				</div>
			</mat-grid-tile>
		</mat-grid-list>
	</form>
</ng-template>