<app-page>
	<app-page-header title="{{ 'Report.SODetailFilter' | translate }}"></app-page-header>
	<mat-card-content>
		<ng-container *ngTemplateOutlet="headerContent"></ng-container>
	</mat-card-content>
	<mat-card-content>
		<ng-container *ngTemplateOutlet="mainContent"></ng-container>
	</mat-card-content>
</app-page>

<ng-template #mainContent>
	<app-edit-table class="app-table" #appTable [configs]="tableConfig"></app-edit-table>
</ng-template>

<ng-template #headerContent>
	<form #form layout="column">
		<mat-grid-list cols="2" rowHeight="40px" gutterSize="5px" flex-gt-sm="100">
			<mat-grid-tile>
				<label class="app-label p-5-10">{{'STO.Keyword' | translate}}:</label>
				<mat-form-field appearance="outline" class="app-input">
					<input #Content name="Content" tabindex="1" [(ngModel)]="filters.Content" (keyup.enter)="onEnter($event)" 
						placeholder="{{'STO.KeywordPlaceholder' | translate}}" matInput autocomplete="off">
				</mat-form-field>
			</mat-grid-tile>
			
			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'STO.SOStatus' | translate}}:</span></label>
				<!-- <app-combo #status class="app-combo" tabindex="2"
					title="{{'STO.STOStatus' | translate}}"
					[configs]="soStatusConfig">
				</app-combo> -->
				<app-combo-multiple #status class="app-combo" tabindex="2"
					title="{{'STO.STOStatus' | translate}}" [configs]="soStatusConfig">
				</app-combo-multiple>
			</mat-grid-tile>

			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'STO.FromDate' | translate}}:</span></label>
				<app-datepicker tabindex="3" class="app-datepicker" [options]="configDate" #fromDate></app-datepicker>
			</mat-grid-tile>
			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'STO.ConditionType' | translate}}:</span></label>
				<app-combo #potype class="app-combo" tabindex="6"
					title="{{'STO.ConditionType' | translate}}"
					[configs]="poTypeConfig">
				</app-combo>
			</mat-grid-tile>
			
			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'STO.ToDate' | translate}}:</span></label>
				<app-datepicker tabindex="5" class="app-datepicker" [options]="configDate" #toDate></app-datepicker>
			</mat-grid-tile>
			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'FinishPo.Client' | translate}}:</span></label>
				<app-combo #client class="app-combo" tabindex="6"
					title="{{'FinishPo.Client' | translate}}"
					[configs]="clientConfig">
				</app-combo>
			</mat-grid-tile>

			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'STO.Store' | translate}}:</span></label>
				<app-combo #store class="app-combo" tabindex="7"
					title="{{'STO.Store' | translate}}"
					[configs]="storeConfig">
				</app-combo>
			</mat-grid-tile>
			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'DCSite' | translate}}:</span></label>
				<app-combo #dcsite class="app-combo" tabindex="8"
					title="{{'DCSite' | translate}}"
					[configs]="warehouseSiteConfig">
				</app-combo>
			</mat-grid-tile>

			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'GIStatus' | translate}}:</span></label>
				<app-combo #GIStatus class="app-combo" tabindex="8"
					[configs]="GIStatusConfig">
				</app-combo>
			</mat-grid-tile>
			<mat-grid-tile>
				<label class="app-label p-5-10"><span>{{'STO.StoreType' | translate}}:</span></label>
				<app-combo #storetype class="app-combo" tabindex="9" title="{{'STO.StoreType' | translate}}"
					[configs]="storeTypeConfig">
				</app-combo>
			</mat-grid-tile>

			<mat-grid-tile>
				<label class="app-label p-5-10"><span>Priority:</span></label>
				<app-combo #storepriority class="app-combo" tabindex="9" title="Priority"
					[configs]="storePriorityConfig">
				</app-combo>
			</mat-grid-tile>

			<mat-grid-tile class="checkbox">
				<label class="app-label p-5-10"></label>
				<mat-checkbox #isStatusDate [(ngModel)]="filters.IsStatusDate" name="IsStatusDate">{{'Report.IsStatusDate' | translate}}</mat-checkbox>
			</mat-grid-tile>
			
			<mat-grid-tile [colspan]="2">
				<div class="app-btn-row-right" style="width: 100%;">
					<button type="button" color="accent" tabindex="10" (click)="search($event)" mat-raised-button tabindex="9">
						<mat-icon>search</mat-icon>{{'btn_search' | translate}}
					</button>
					<button type="button" color="accent" tabindex="11" (click)="exportExcel($event)" mat-raised-button >
						<mat-icon>file_download</mat-icon>{{'STO.ExportExcel' | translate}}
					</button>
				</div>
			</mat-grid-tile>
		</mat-grid-list>
	</form>
</ng-template>
